### 第一章

### 1.1



1. 主流模型：可靠的双向字节流连接
2. NAT（Network Address Translation，网络地址转换）是一种用于计算机网络的技术，它能够将多个设备的私有IP地址转换成一个或多个公有IP地址，从而实现多个设备通过一个公共IP地址访问互联网的目的。NAT的基本原理是通过修改IP数据报头中的IP地址信息，实现内部网络与外部网络的地址转换
3. 三种不同的通信模式：
   - 客户端—服务器模型（http）：客户端和服务器端通信
   - 点对点模型（BitTorrent）：客户端之间直接通信
   - 混合模型（Skype）：既有客户端之间的直接通信（反向请求），也有客户端和服务器之间的通信（中间服务器）

### 1.2



1. 网络的四层模型：

   - 应用层：使用面向具体应用的语法来实现两个程序之间双向可靠的比特流传输（**真正有用的信息**）
   - 传输层：确保数据能够实现端到端的有序、正确地传递（**提供服务**）
   - 网络层：尽最大努力确保数据报能够实现端到端的传递，不保证正确性（**提供服务**）
   - 链路层：确保数据在主机与路由器、路由器与路由器之间的传递（**提供服务**）

   四层模型确定了在计算网络中传递的数据包的基本格式，应用层负责的才是真正具体有用的数据，而其他几层均是为了保证应用层的数据在网络中能够正确地传递而“附加”的数据头。应用层负责具体信息，其他层均为应用层提供服务。


### 1.3
1. IP层提供的服务较简单且不太可靠的原因是为了能够尽量简化网络的部署，端到端传输原则认为保证可靠的传输不
应由IP层的硬件来保证，而是应当交由源端和末端的host来负责，这样做极大地降低了IP层硬件部署的复杂性。IP层
只提供不可靠的传输，而将是否保证可靠传输的选择留给了传输层，应用程序可根据需要来选择是否使用可靠传输。

### 1.8

1. 两种**字节**存储方式

   - 大端方式：低地址存储数据的高字节，高地址存储数据的低字节（符合人类阅读习惯）
   - 小端方式：低地址存储数据的低字节，高地址存储数据的高字节（符合计算机的读取方式）

   Internet的所有协议都使用大端方式，协议采用的字节存储方式与主机采用的字节存储方式可能会不一样，

   我们可能需要进行转换以使二者兼容。



### 1.11

1. ARP协议：是一种网络层协议，用于在同一个网络中寻找与IP地址相对应的MAC地址。
2. 在数据包传输的过程中，数据包中的IP地址始终保持不变，而MAC地址可能会一直发生变化。这样做的好处在于数据包在传输过程中能实时地根据情况选择合适的链路进行传输。






### lab0

#### 知识点

1. 浏览器是http客户端的一种具体实现，操作系统为其分配临时端口来与http服务器进行交互。
2. telnet、nc、curl的关系和区别

    - nc(Netcat)，是一个网络工具，用于**读写网络连接**，它可以在TCP或UDP协议上工作，功能强大且灵活。常用于端口扫描、创建服务器、数据传输、调试和测试。
    - curl是一个用于在命令行或脚本中**传输数据的工具**，支持多种协议，包括HTTP、HTTPS、FTP、SFTP等，它特别适用于测试和调试Web服务。
    - telnet是一个用于与远程主机建立命令行接口连接的工具，使用Telnet协议。它可以用于与远程服务器交互，特别是用于手动调试网络服务，如HTTP、SMTP等。
    - 功能：telnet主要用于与远程主机的交互和手动发送请求；nc功能更强大和灵活，可以进行端口扫描、创建服务器、传输数据等；curl专注于数据传输和Web服务调试，支持丰富的协议和选项。
    - 用法：telnet和nc可以用于发送和接收原始数据包，适合低级别的网络调试。curl则适合用于HTTP等高层协议的请求和响应，特别是Web服务和API测试。
    - 安全性：telnet缺乏加密，传输的所有数据都是明文的，不适合安全性要求高的场景。nc也不提供内置的加密，需要配合其他工具使用。curl支持HTTPS等加密协议，适合安全传输。
    -  telnet在进行http访问时，会自动将用户输入的换行转换为\r\n（http要求报文每行的末尾必须是\r\n），而nc程序不会这样做。


Fetch a web page：

```shell
telnet cs144.keithw.org 80(http)   #这里既可以使用80也可以使用http，本质上就是指定http服务器的端口号
Trying 104.196.238.229...
Connected to cs144.keithw.org.
Escape character is '^]'.

#这部分内容为http请求报文，http请求报文最后一行必须为空行以表示报文内容结束
GET /hello HTTP/1.1
Host: cs144.keithw.org
Connection: close

#这部分为服务器发送的http响应报文
HTTP/1.1 200 OK
Date: Wed, 12 Jun 2024 10:27:22 GMT
Server: Apache
Last-Modified: Thu, 13 Dec 2018 15:45:29 GMT
ETag: "e-57ce93446cb64"
Accept-Ranges: bytes
Content-Length: 14
Connection: close
Content-Type: text/plain

Hello, CS144!
Connection closed by foreign host.
```

3. 套接字是用于网络通信的抽象，套接字也可以被操作系统用文件描述符来标识，因此可以像文件一样使用读写操作。当一个套接字被创建时，操作系统会分配一个文件描述符给它，允许程序使用常规的文件I/O系统调用（如read、write）来进行网络通信。这种设计使得网络通信可以统一到文件I/O模型中，简化了编程接口。
4. ????操作系统中的文件描述符（File Descriptor，FD）是一个重要的概念，用于标识和管理输入/输出资源。它是一个非负整数，由操作系统内核分配，用于引用各种类型的I/O资源，如**文件、管道、网络套接字**等。文件描述符包含文件描述符编号和文件表项指针等主要字段，文件表项指针指向该文件对应的全局文件表条目。
5. 嵌套类(nested class)：嵌套类与外围类是相互独立的，但是嵌套类能够通过外部类的对象直接访问其非静态私有成员；嵌套类在外部类的命名空间中；不能在外部类外面访问私有嵌套类的名字
6. 服务器：通常会先调用socket创建套接字，然后调用bind绑定地址和端口，接着调用listen等待连接，最后调用accept接受连接。客户端：通常会先调用socket创建套接字，然后直接调用connect尝试连接到服务器。
7. git用法
```
//修改本地仓库对应的远程仓库以显示contribution
git remote     //查看远程仓库名字
git remote rm origin      //删除和以前远程仓库的连接
git remote add [你的远程仓库.git]  //连接到新的远程仓库


git pull origin [branch name]  //将远程仓库的branch_name分支与本地仓库的当前分支合并


//将本地仓库回滚到指定的commit并同步到远程仓库
git log --pretty=oneline  // 查询要回滚的 commit_id
git reset --hard commit_id // HEAD 就会指向此次的提交记录
git push origin HEAD --force // 强制推送到远端
```
8. 类继承的一种特殊用法：
   - 前提：派生类与基类相比，只额外定义了成员函数，没有额外定义成员变量
   - 使用派生类的引用（或指针）来指向基类对象，这样该引用（或指针）就能够操作基类对象的成员变量，同时它还能够调用派生类特有的成员方法

    
